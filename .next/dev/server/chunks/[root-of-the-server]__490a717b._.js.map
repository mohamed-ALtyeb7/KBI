{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adcda/Desktop/test%207.5/main/firebase/firebaseConfig.ts"],"sourcesContent":["import { initializeApp, getApps, getApp } from \"firebase/app\";\nimport { getFirestore, disableNetwork } from \"firebase/firestore\";\nimport { getAuth } from \"firebase/auth\";\nimport { getStorage } from \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY || \"YOUR_API_KEY\",\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN || \"YOUR_AUTH_DOMAIN\",\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID || \"YOUR_PROJECT_ID\",\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET || \"YOUR_STORAGE_BUCKET\",\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID || \"YOUR_MESSAGING_SENDER_ID\",\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID || \"YOUR_APP_ID\",\n};\n\n// Check if we are using placeholder values (Mock Mode)\nexport const isMockMode = firebaseConfig.apiKey === \"YOUR_API_KEY\";\n\n// Initialize Firebase\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApp();\n\nexport const db = getFirestore(app);\nexport const auth = getAuth(app);\nexport const storage = getStorage(app);\n\nif (typeof window !== \"undefined\" && isMockMode) {\n  try {\n    void disableNetwork(db);\n  } catch {}\n}\nif (typeof window !== \"undefined\" && isMockMode) {\n  try { disableNetwork(db) } catch {}\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ,+EAA4C;IACpD,YAAY,kEAAgD;IAC5D,WAAW,kDAA+C;IAC1D,eAAe,sEAAmD;IAClE,mBAAmB,oDAAwD;IAC3E,OAAO,iFAA2C;AACpD;AAGO,MAAM,aAAa,eAAe,MAAM,KAAK;AAEpD,sBAAsB;AACtB,MAAM,MAAM,CAAC,IAAA,6KAAO,IAAG,MAAM,GAAG,IAAA,mLAAa,EAAC,kBAAkB,IAAA,4KAAM;AAE/D,MAAM,KAAK,IAAA,mLAAY,EAAC;AACxB,MAAM,OAAO,IAAA,+KAAO,EAAC;AACrB,MAAM,UAAU,IAAA,oMAAU,EAAC;AAElC;;AAKA"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/adcda/Desktop/test%207.5/main/app/api/cleanup-orders/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\r\nimport { collection, getDocs, deleteDoc, doc, query, where } from \"firebase/firestore\"\r\nimport { db } from \"@/firebase/firebaseConfig\"\r\n\r\nexport async function POST(request: NextRequest) {\r\n    try {\r\n        const ordersRef = collection(db, \"orders\")\r\n        const snapshot = await getDocs(ordersRef)\r\n\r\n        let deletedCount = 0\r\n        const deletedIds: string[] = []\r\n\r\n        for (const orderDoc of snapshot.docs) {\r\n            const data = orderDoc.data()\r\n\r\n            // Delete orders with missing customer info or mock data indicators\r\n            const hasNoName = !data.name && !data.customerName\r\n            const isUnknown = data.customerName === \"Unknown\" || data.name === \"Unknown\"\r\n            const hasNoPhone = !data.phone && !data.customerPhone\r\n            const isLikelyMock = data.orderId?.startsWith(\"ORD-\") // Old mock order IDs\r\n\r\n            if (hasNoName || isUnknown || (hasNoPhone && isLikelyMock)) {\r\n                await deleteDoc(doc(db, \"orders\", orderDoc.id))\r\n                deletedIds.push(orderDoc.id)\r\n                deletedCount++\r\n            }\r\n        }\r\n\r\n        return NextResponse.json({\r\n            success: true,\r\n            message: `Cleaned up ${deletedCount} invalid orders`,\r\n            deletedIds\r\n        })\r\n    } catch (error: any) {\r\n        console.error(\"Cleanup error:\", error)\r\n        return NextResponse.json({\r\n            success: false,\r\n            error: error.message\r\n        }, { status: 500 })\r\n    }\r\n}\r\n\r\nexport async function GET() {\r\n    return NextResponse.json({\r\n        message: \"POST to this endpoint to cleanup invalid orders\",\r\n        warning: \"This will permanently delete orders with missing customer data\"\r\n    })\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AAAA;AACA;;;;AAEO,eAAe,KAAK,OAAoB;IAC3C,IAAI;QACA,MAAM,YAAY,IAAA,iLAAU,EAAC,kIAAE,EAAE;QACjC,MAAM,WAAW,MAAM,IAAA,8KAAO,EAAC;QAE/B,IAAI,eAAe;QACnB,MAAM,aAAuB,EAAE;QAE/B,KAAK,MAAM,YAAY,SAAS,IAAI,CAAE;YAClC,MAAM,OAAO,SAAS,IAAI;YAE1B,mEAAmE;YACnE,MAAM,YAAY,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,YAAY;YAClD,MAAM,YAAY,KAAK,YAAY,KAAK,aAAa,KAAK,IAAI,KAAK;YACnE,MAAM,aAAa,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,aAAa;YACrD,MAAM,eAAe,KAAK,OAAO,EAAE,WAAW,QAAQ,qBAAqB;;YAE3E,IAAI,aAAa,aAAc,cAAc,cAAe;gBACxD,MAAM,IAAA,gLAAS,EAAC,IAAA,0KAAG,EAAC,kIAAE,EAAE,UAAU,SAAS,EAAE;gBAC7C,WAAW,IAAI,CAAC,SAAS,EAAE;gBAC3B;YACJ;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,SAAS;YACT,SAAS,CAAC,WAAW,EAAE,aAAa,eAAe,CAAC;YACpD;QACJ;IACJ,EAAE,OAAO,OAAY;QACjB,QAAQ,KAAK,CAAC,kBAAkB;QAChC,OAAO,gJAAY,CAAC,IAAI,CAAC;YACrB,SAAS;YACT,OAAO,MAAM,OAAO;QACxB,GAAG;YAAE,QAAQ;QAAI;IACrB;AACJ;AAEO,eAAe;IAClB,OAAO,gJAAY,CAAC,IAAI,CAAC;QACrB,SAAS;QACT,SAAS;IACb;AACJ"}}]
}