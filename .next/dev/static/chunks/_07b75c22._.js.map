{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/7mood/Desktop/test%207.5/main/components/ui/table.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Table({ className, ...props }: React.ComponentProps<'table'>) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn('w-full caption-bottom text-sm', className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<'thead'>) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn('[&_tr]:border-b', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<'tbody'>) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn('[&_tr:last-child]:border-0', className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<'tfoot'>) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        'bg-muted/50 border-t font-medium [&>tr]:last:border-b-0',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<'tr'>) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        'hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<'th'>) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        'text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<'td'>) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        'p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<'caption'>) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn('text-muted-foreground mt-4 text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;AAJA;;;AAMA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAsC;IACnE,qBACE,6LAAC;QACC,aAAU;QACV,WAAU;kBAEV,cAAA,6LAAC;YACC,aAAU;YACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;YAC9C,GAAG,KAAK;;;;;;;;;;;AAIjB;KAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,mBAAmB;QAChC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAsC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,2DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAmC;IACnE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,+EACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,sJACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAmC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OAC6B;IAChC,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 148, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/7mood/Desktop/test%207.5/main/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = 'default',\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: 'sm' | 'default'\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = 'popper',\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          'bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md',\n          position === 'popper' &&\n            'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n          className,\n        )}\n        position={position}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            'p-1',\n            position === 'popper' &&\n              'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1',\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn('text-muted-foreground px-2 py-1.5 text-xs', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className,\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn('bg-border pointer-events-none -mx-1 my-1 h-px', className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        'flex cursor-default items-center justify-center py-1',\n        className,\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAAA;AAAA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,OAAO,SAAS,EAChB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,qHAAE,EACX,gzBACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,8OAAe;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAInC;MAxBS;AA0BT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,WAAW,QAAQ,EACnB,GAAG,OACkD;IACrD,qBACE,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,aAAU;YACV,WAAW,IAAA,qHAAE,EACX,ijBACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;AAIT;MAjCS;AAmCT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OAC+C;IAClD,qBACE,6LAAC,6KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,6aACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,wNAAS;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGzB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;AAGjC;MAtBS;AAwBT,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACoD;IACvD,qBACE,6LAAC,kLAAyB;QACxB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iDAAiD;QAC9D,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,qBAAqB,EAC5B,SAAS,EACT,GAAG,OACyD;IAC5D,qBACE,6LAAC,uLAA8B;QAC7B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,wOAAa;YAAC,WAAU;;;;;;;;;;;AAG/B;MAhBS;AAkBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,yLAAgC;QAC/B,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,8OAAe;YAAC,WAAU;;;;;;;;;;;AAGjC;MAhBS"}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/7mood/Desktop/test%207.5/main/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { XIcon } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        'data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          'bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg',\n          className,\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn('flex flex-col gap-2 text-center sm:text-left', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        'flex flex-col-reverse gap-2 sm:flex-row sm:justify-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn('text-lg leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,OAAO,EACd,GAAG,OAC+C;IAClD,qBAAO,6LAAC,6KAAoB;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAJS;AAMT,SAAS,cAAc,EACrB,GAAG,OACkD;IACrD,qBAAO,6LAAC,gLAAuB;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAJS;AAMT,SAAS,aAAa,EACpB,GAAG,OACiD;IACpD,qBAAO,6LAAC,+KAAsB;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAJS;AAMT,SAAS,YAAY,EACnB,GAAG,OACgD;IACnD,qBAAO,6LAAC,8KAAqB;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAJS;AAMT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,gLAAuB;QACtB,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,aAAU;gBACV,WAAW,IAAA,qHAAE,EACX,+WACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,8KAAqB;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,4MAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,qHAAE,EACX,0DACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,6LAAC,8KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,oLAA2B;QAC1B,aAAU;QACV,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 611, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/7mood/Desktop/test%207.5/main/lib/smsService.ts"],"sourcesContent":["/**\r\n * WhatsApp Messaging Service - Free Alternative to SMS\r\n * Uses WhatsApp Web API for sending messages\r\n * Popular and free in UAE\r\n */\r\n\r\nexport interface WhatsAppMessage {\r\n    to: string\r\n    body: string\r\n}\r\n\r\n/**\r\n * Format phone number for WhatsApp (removes +, spaces, dashes)\r\n */\r\nexport function formatPhoneForWhatsApp(phone: string): string {\r\n    // Remove all non-numeric characters\r\n    let cleaned = phone.replace(/\\D/g, \"\")\r\n\r\n    // Remove leading zeros\r\n    cleaned = cleaned.replace(/^0+/, \"\")\r\n\r\n    // Add UAE country code if not present\r\n    if (!cleaned.startsWith(\"971\")) {\r\n        cleaned = `971${cleaned}`\r\n    }\r\n\r\n    return cleaned\r\n}\r\n\r\n/**\r\n * Generate WhatsApp click-to-chat URL\r\n * This opens WhatsApp with a pre-filled message\r\n */\r\nexport function generateWhatsAppUrl(phone: string, message: string): string {\r\n    const formattedPhone = formatPhoneForWhatsApp(phone)\r\n    const encodedMessage = encodeURIComponent(message)\r\n    return `https://wa.me/${formattedPhone}?text=${encodedMessage}`\r\n}\r\n\r\n/**\r\n * Open WhatsApp in new window (for client-side use)\r\n */\r\nexport function openWhatsApp(phone: string, message: string): void {\n    const url = generateWhatsAppUrl(phone, message)\n    window.open(url, \"_blank\", \"noopener,noreferrer\")\n}\n\r\n/**\r\n * Send WhatsApp via API (for server-side automation)\r\n * This requires WhatsApp Business API setup\r\n */\r\nexport async function sendWhatsApp(\r\n    to: string,\r\n    body: string\r\n): Promise<{ success: boolean; url?: string; error?: string }> {\r\n    try {\r\n        const response = await fetch(\"/api/whatsapp/send\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ to, body })\r\n        })\r\n\r\n        const result = await response.json()\r\n\r\n        if (!response.ok) {\r\n            return { success: false, error: result.error || \"Failed to send\" }\r\n        }\r\n\r\n        return { success: true, url: result.url }\r\n    } catch (error) {\r\n        return { success: false, error: \"Failed to send message\" }\r\n    }\r\n}\r\n\r\n/**\r\n * WhatsApp Message Templates - Pre-written for common scenarios\r\n */\r\nexport const WhatsAppTemplates = {\r\n    orderConfirmation: (orderId: string, customerName: string) =>\r\n        `ŸÖÿ±ÿ≠ÿ®ÿßŸã ${customerName}! üëã\r\n\r\nÿ™ŸÖ ÿßÿ≥ÿ™ŸÑÿßŸÖ ÿ∑ŸÑÿ® ÿßŸÑÿ•ÿµŸÑÿßÿ≠ ÿ±ŸÇŸÖ #${orderId} ÿ®ŸÜÿ¨ÿßÿ≠ ‚úÖ\r\n\r\nÿ≥Ÿäÿ™ŸÖ ÿ™ÿπŸäŸäŸÜ ŸÅŸÜŸä ŸÑŸÉ ŸÇÿ±Ÿäÿ®ÿßŸã.\r\n\r\nŸÑŸÑŸÖÿ™ÿßÿ®ÿπÿ©: kbi.ae/track\r\n\r\nKBI Repair Services`,\r\n\r\n    technicianAssigned: (orderId: string, techName: string, techPhone: string) =>\r\n        `ÿ£ÿÆÿ®ÿßÿ± ÿ≥ÿßÿ±ÿ©! üéâ\r\n\r\nÿ™ŸÖ ÿ™ÿπŸäŸäŸÜ ÿßŸÑŸÅŸÜŸä *${techName}* ŸÑÿ∑ŸÑÿ®ŸÉ #${orderId}\r\n\r\nüìû ŸÑŸÑÿ™ŸàÿßÿµŸÑ: ${techPhone}\r\n\r\nÿ≥ŸäÿµŸÑ ÿ•ŸÑŸäŸÉ ŸÇÿ±Ÿäÿ®ÿßŸã!`,\r\n\r\n    onTheWay: (orderId: string, techName: string, eta?: string) =>\r\n        `üöó ÿßŸÑŸÅŸÜŸä ${techName} ŸÅŸä ÿßŸÑÿ∑ÿ±ŸäŸÇ ÿ•ŸÑŸäŸÉ!\r\n\r\nÿ∑ŸÑÿ®: #${orderId}\r\n${eta ? `ÿßŸÑŸàÿµŸàŸÑ ÿßŸÑŸÖÿ™ŸàŸÇÿπ: ${eta}` : \"\"}\r\n\r\nŸäÿ±ÿ¨Ÿâ ÿßŸÑÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ŸàŸÅÿ±ŸÉŸÖ.`,\r\n\r\n    repairStarted: (orderId: string) =>\r\n        `üîß ÿ®ÿØÿ£ ÿßŸÑÿπŸÖŸÑ ÿπŸÑŸâ ÿ∑ŸÑÿ®ŸÉ #${orderId}\r\n\r\nÿ≥ŸÜŸèÿπŸÑŸÖŸÉ ŸÅŸàÿ± ÿßŸÑÿßŸÜÿ™Ÿáÿßÿ°.`,\r\n\r\n    repairComplete: (orderId: string, rateLink: string) =>\r\n        `‚úÖ ÿ™ŸÖ ÿ•ŸÜÿ¨ÿßÿ≤ ÿßŸÑÿ•ÿµŸÑÿßÿ≠ ÿ®ŸÜÿ¨ÿßÿ≠!\r\n\r\nÿ∑ŸÑÿ®: #${orderId}\r\n\r\n‚≠ê ŸÇŸäŸëŸÖ ÿ™ÿ¨ÿ±ÿ®ÿ™ŸÉ: ${rateLink}\r\n\r\nÿ¥ŸÉÿ±ÿßŸã ŸÑÿßÿÆÿ™Ÿäÿßÿ±ŸÉ KBI Repair!`,\r\n\r\n    waitingParts: (orderId: string) =>\r\n        `‚è≥ ÿ™ÿ≠ÿØŸäÿ´ ŸÑÿ∑ŸÑÿ®ŸÉ #${orderId}\r\n\r\nŸÜÿ≠ŸÜ ÿ®ÿßŸÜÿ™ÿ∏ÿßÿ± ŸàÿµŸàŸÑ ŸÇÿ∑ÿπ ÿßŸÑÿ∫Ÿäÿßÿ±.\r\nÿ≥ŸÜŸèÿπŸÑŸÖŸÉ ŸÅŸàÿ± ÿßÿ≥ÿ™ÿ¶ŸÜÿßŸÅ ÿßŸÑÿπŸÖŸÑ.`\r\n}\r\n\r\n/**\r\n * Get WhatsApp business number for company\r\n */\r\nexport const COMPANY_WHATSAPP = \"+971501234567\" // Update with real number\r\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;;;;;;;AAUM,SAAS,uBAAuB,KAAa;IAChD,oCAAoC;IACpC,IAAI,UAAU,MAAM,OAAO,CAAC,OAAO;IAEnC,uBAAuB;IACvB,UAAU,QAAQ,OAAO,CAAC,OAAO;IAEjC,sCAAsC;IACtC,IAAI,CAAC,QAAQ,UAAU,CAAC,QAAQ;QAC5B,UAAU,CAAC,GAAG,EAAE,SAAS;IAC7B;IAEA,OAAO;AACX;AAMO,SAAS,oBAAoB,KAAa,EAAE,OAAe;IAC9D,MAAM,iBAAiB,uBAAuB;IAC9C,MAAM,iBAAiB,mBAAmB;IAC1C,OAAO,CAAC,cAAc,EAAE,eAAe,MAAM,EAAE,gBAAgB;AACnE;AAKO,SAAS,aAAa,KAAa,EAAE,OAAe;IACvD,MAAM,MAAM,oBAAoB,OAAO;IACvC,OAAO,IAAI,CAAC,KAAK,UAAU;AAC/B;AAMO,eAAe,aAClB,EAAU,EACV,IAAY;IAEZ,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,sBAAsB;YAC/C,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBAAE;gBAAI;YAAK;QACpC;QAEA,MAAM,SAAS,MAAM,SAAS,IAAI;QAElC,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,OAAO;gBAAE,SAAS;gBAAO,OAAO,OAAO,KAAK,IAAI;YAAiB;QACrE;QAEA,OAAO;YAAE,SAAS;YAAM,KAAK,OAAO,GAAG;QAAC;IAC5C,EAAE,OAAO,OAAO;QACZ,OAAO;YAAE,SAAS;YAAO,OAAO;QAAyB;IAC7D;AACJ;AAKO,MAAM,oBAAoB;IAC7B,mBAAmB,CAAC,SAAiB,eACjC,CAAC,OAAO,EAAE,aAAa;;2BAEJ,EAAE,QAAQ;;;;;;mBAMlB,CAAC;IAEhB,oBAAoB,CAAC,SAAiB,UAAkB,YACpD,CAAC;;gBAEO,EAAE,SAAS,SAAS,EAAE,QAAQ;;YAElC,EAAE,UAAU;;iBAEP,CAAC;IAEd,UAAU,CAAC,SAAiB,UAAkB,MAC1C,CAAC,SAAS,EAAE,SAAS;;MAEvB,EAAE,QAAQ;AAChB,EAAE,MAAM,CAAC,gBAAgB,EAAE,KAAK,GAAG,GAAG;;sBAEhB,CAAC;IAEnB,eAAe,CAAC,UACZ,CAAC,uBAAuB,EAAE,QAAQ;;qBAErB,CAAC;IAElB,gBAAgB,CAAC,SAAiB,WAC9B,CAAC;;MAEH,EAAE,QAAQ;;eAED,EAAE,SAAS;;0BAEA,CAAC;IAEvB,cAAc,CAAC,UACX,CAAC,eAAe,EAAE,QAAQ;;;0BAGR,CAAC;AAC3B;AAKO,MAAM,mBAAmB,gBAAgB,0BAA0B"}},
    {"offset": {"line": 726, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/7mood/Desktop/test%207.5/main/lib/auditService.ts"],"sourcesContent":["/**\r\n * Audit Service for logging admin actions\r\n */\r\n\r\nimport { collection, addDoc, query, where, orderBy, getDocs, Timestamp, limit } from \"firebase/firestore\"\r\nimport { db } from \"@/firebase/firebaseConfig\"\r\n\r\nexport interface AuditLog {\r\n    id?: string\r\n    action: string\r\n    category: \"order\" | \"technician\" | \"inventory\" | \"settings\" | \"auth\" | \"system\"\r\n    userId: string\r\n    userEmail: string\r\n    targetId?: string\r\n    targetType?: string\r\n    details?: Record<string, any>\r\n    ipAddress?: string\r\n    timestamp: Date\r\n}\r\n\r\n/**\r\n * Log an admin action\r\n */\r\nexport async function logAction(\r\n    action: string,\r\n    category: AuditLog[\"category\"],\r\n    userId: string,\r\n    userEmail: string,\r\n    options?: {\r\n        targetId?: string\r\n        targetType?: string\r\n        details?: Record<string, any>\r\n    }\r\n): Promise<void> {\r\n    try {\r\n        await addDoc(collection(db, \"audit_logs\"), {\r\n            action,\r\n            category,\r\n            userId,\r\n            userEmail,\r\n            targetId: options?.targetId || null,\r\n            targetType: options?.targetType || null,\r\n            details: options?.details || null,\r\n            timestamp: Timestamp.now()\r\n        })\r\n    } catch (error) {\r\n        console.error(\"Failed to log audit action:\", error)\r\n    }\r\n}\r\n\r\n/**\r\n * Get audit logs with filters\r\n */\r\nexport async function getAuditLogs(filters?: {\r\n    category?: AuditLog[\"category\"]\r\n    userId?: string\r\n    startDate?: Date\r\n    endDate?: Date\r\n    limitCount?: number\n}): Promise<AuditLog[]> {\n    try {\n        const q = query(\n            collection(db, \"audit_logs\"),\n            orderBy(\"timestamp\", \"desc\"),\n            limit(filters?.limitCount || 100)\n        )\n\r\n        // Note: Firestore requires composite indexes for multiple where clauses\r\n        // For production, create necessary indexes\r\n\r\n        const snapshot = await getDocs(q)\r\n        return snapshot.docs.map(doc => ({\r\n            id: doc.id,\r\n            ...doc.data(),\r\n            timestamp: doc.data().timestamp.toDate()\r\n        })) as AuditLog[]\r\n    } catch (error) {\r\n        console.error(\"Failed to fetch audit logs:\", error)\r\n        return []\r\n    }\r\n}\r\n\r\n/**\r\n * Predefined action types for consistency\r\n */\r\nexport const AuditActions = {\r\n    // Orders\r\n    ORDER_CREATED: \"order_created\",\r\n    ORDER_UPDATED: \"order_updated\",\r\n    ORDER_DELETED: \"order_deleted\",\r\n    ORDER_ASSIGNED: \"order_assigned\",\r\n    ORDER_STATUS_CHANGED: \"order_status_changed\",\r\n\r\n    // Technicians\r\n    TECHNICIAN_CREATED: \"technician_created\",\r\n    TECHNICIAN_UPDATED: \"technician_updated\",\r\n    TECHNICIAN_DELETED: \"technician_deleted\",\r\n\r\n    // Inventory\r\n    INVENTORY_ADDED: \"inventory_added\",\r\n    INVENTORY_UPDATED: \"inventory_updated\",\r\n    INVENTORY_DELETED: \"inventory_deleted\",\r\n\r\n    // Auth\r\n    USER_LOGIN: \"user_login\",\r\n    USER_LOGOUT: \"user_logout\",\r\n    PASSWORD_CHANGED: \"password_changed\",\r\n\r\n    // Settings\r\n    SETTINGS_UPDATED: \"settings_updated\",\r\n\r\n    // System\r\n    EXPORT_GENERATED: \"export_generated\",\r\n    EMAIL_SENT: \"email_sent\"\r\n} as const\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;AAED;AAAA;AACA;;;AAkBO,eAAe,UAClB,MAAc,EACd,QAA8B,EAC9B,MAAc,EACd,SAAiB,EACjB,OAIC;IAED,IAAI;QACA,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,mIAAE,EAAE,eAAe;YACvC;YACA;YACA;YACA;YACA,UAAU,SAAS,YAAY;YAC/B,YAAY,SAAS,cAAc;YACnC,SAAS,SAAS,WAAW;YAC7B,WAAW,+KAAS,CAAC,GAAG;QAC5B;IACJ,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,+BAA+B;IACjD;AACJ;AAKO,eAAe,aAAa,OAMlC;IACG,IAAI;QACA,MAAM,IAAI,IAAA,2KAAK,EACX,IAAA,gLAAU,EAAC,mIAAE,EAAE,eACf,IAAA,6KAAO,EAAC,aAAa,SACrB,IAAA,2KAAK,EAAC,SAAS,cAAc;QAGjC,wEAAwE;QACxE,2CAA2C;QAE3C,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAC/B,OAAO,SAAS,IAAI,CAAC,GAAG,CAAC,CAAA,MAAO,CAAC;gBAC7B,IAAI,IAAI,EAAE;gBACV,GAAG,IAAI,IAAI,EAAE;gBACb,WAAW,IAAI,IAAI,GAAG,SAAS,CAAC,MAAM;YAC1C,CAAC;IACL,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,+BAA+B;QAC7C,OAAO,EAAE;IACb;AACJ;AAKO,MAAM,eAAe;IACxB,SAAS;IACT,eAAe;IACf,eAAe;IACf,eAAe;IACf,gBAAgB;IAChB,sBAAsB;IAEtB,cAAc;IACd,oBAAoB;IACpB,oBAAoB;IACpB,oBAAoB;IAEpB,YAAY;IACZ,iBAAiB;IACjB,mBAAmB;IACnB,mBAAmB;IAEnB,OAAO;IACP,YAAY;IACZ,aAAa;IACb,kBAAkB;IAElB,WAAW;IACX,kBAAkB;IAElB,SAAS;IACT,kBAAkB;IAClB,YAAY;AAChB"}},
    {"offset": {"line": 805, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/7mood/Desktop/test%207.5/main/components/ui/invoice.tsx"],"sourcesContent":["\"use client\"\n\nimport { useMemo } from \"react\"\nimport { useT } from \"@/components/language-provider\"\n\ntype InvoiceItem = {\n  description: string\n  category?: string\n  quantity: number\n  unitPrice: number\n  total: number\n}\n\ntype Props = {\n  order: any\n  items: InvoiceItem[]\n  invoiceNumber: string\n  invoiceDate: string | Date\n  language: \"en\" | \"ar\" | \"both\"\n  discount?: number\n  vatEnabled?: boolean\n  vatRate?: number\n  warrantyPeriod?: string\n  adminNotes?: string\n  disclaimerText?: string\n}\n\nexport function FinalInvoice(props: Props) {\n  const t = useT()\n  const {\n    order,\n    items,\n    invoiceNumber,\n    invoiceDate,\n    language,\n    discount = 0,\n    vatEnabled = false,\n    vatRate = 0,\n    warrantyPeriod = \"3 months\",\n    adminNotes = \"\",\n    disclaimerText = t(\"Payment due upon completion of repair.\")\n  } = props\n\n  const totals = useMemo(() => {\n    const subtotal = items.reduce((s, i) => s + Number(i.total || i.unitPrice * i.quantity), 0)\n    const afterDiscount = subtotal - Number(discount || 0)\n    const vatAmount = vatEnabled ? afterDiscount * Number(vatRate || 0) : 0\n    const finalTotal = afterDiscount + vatAmount\n    return { subtotal, vatAmount, finalTotal }\n  }, [items, discount, vatEnabled, vatRate])\n\n  const qrData = useMemo(() => {\n    const d = `KBI Invoice ${invoiceNumber} | Order ${order?.orderId || order?.id}`\n    return `https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=${encodeURIComponent(d)}`\n  }, [invoiceNumber, order])\n\n  const Header = () => (\n    <div className=\"flex items-start justify-between\">\n      <div>\n        <p className=\"text-xl font-bold\">KBI</p>\n        <p className=\"text-sm\">{t(\"On-Site Repair Service\")}</p>\n        <p className=\"text-sm\">Abu Dhabi ‚Äì UAE</p>\n        <p className=\"text-sm\">+971 50 731 3446</p>\n      </div>\n      <div className=\"text-right\">\n        <p className=\"font-semibold\">{t(\"Invoice Number\")}: {invoiceNumber}</p>\n        <p className=\"text-sm\">{t(\"Order ID\")}: {order?.orderId || order?.id}</p>\n        <p className=\"text-sm\">{t(\"Invoice Date\")}: {typeof invoiceDate === \"string\" ? invoiceDate : new Date(invoiceDate).toLocaleDateString()}</p>\n      </div>\n    </div>\n  )\n\n  const CustomerDevice = () => (\n    <div className=\"grid grid-cols-2 gap-4\">\n      <div className=\"space-y-1\">\n        <p className=\"text-sm font-semibold\">{t(\"Customer Information\")}</p>\n        <p className=\"text-sm\">{t(\"Customer Name\")}: {order?.customerName}</p>\n        <p className=\"text-sm\">{t(\"Phone Number\")}: {order?.customerPhone}</p>\n        <p className=\"text-sm\">{t(\"Service Address\")}: {order?.location || order?.address || \"\"}</p>\n      </div>\n      <div className=\"space-y-1\">\n        <p className=\"text-sm font-semibold\">{t(\"Device Information\")}</p>\n        <p className=\"text-sm\">{t(\"Device Type\")}: {order?.deviceType || order?.device}</p>\n        <p className=\"text-sm\">{t(\"Brand\")}: {order?.brand}</p>\n        <p className=\"text-sm\">{t(\"Model\")}: {order?.model}</p>\n        <p className=\"text-sm\">{t(\"Serial Number (optional)\")}: {order?.serial || \"\"}</p>\n      </div>\n    </div>\n  )\n\n  const ItemsTable = () => (\n    <div className=\"mt-4\">\n      <div className=\"grid grid-cols-12 gap-2 border-b py-2 text-xs font-semibold\">\n        <div className=\"col-span-5\">{t(\"Description\")}</div>\n        <div className=\"col-span-2\">{t(\"Type\")}</div>\n        <div className=\"col-span-1 text-right\">{t(\"Qty\")}</div>\n        <div className=\"col-span-2 text-right\">{t(\"Unit Price (AED)\")}</div>\n        <div className=\"col-span-2 text-right\">{t(\"Total (AED)\")}</div>\n      </div>\n      {items.map((i, idx) => (\n        <div key={idx} className=\"grid grid-cols-12 gap-2 border-b py-2 text-sm\">\n          <div className=\"col-span-5\">{i.description}</div>\n          <div className=\"col-span-2\">{i.category || \"\"}</div>\n          <div className=\"col-span-1 text-right\">{i.quantity}</div>\n          <div className=\"col-span-2 text-right\">{Number(i.unitPrice).toFixed(2)}</div>\n          <div className=\"col-span-2 text-right\">{Number(i.total || i.unitPrice * i.quantity).toFixed(2)}</div>\n        </div>\n      ))}\n    </div>\n  )\n\n  const Summary = () => (\n    <div className=\"mt-4 w-full flex justify-end\">\n      <div className=\"w-64 space-y-1 text-sm\">\n        <div className=\"flex justify-between\"><span>{t(\"Subtotal\")}</span><span>{totals.subtotal.toFixed(2)}</span></div>\n        <div className=\"flex justify-between\"><span>{t(\"Discount\")}</span><span>{Number(discount || 0).toFixed(2)}</span></div>\n        <div className=\"flex justify-between\"><span>{t(\"VAT\")}</span><span>{totals.vatAmount.toFixed(2)}</span></div>\n        <div className=\"flex justify-between font-semibold\"><span>{t(\"Final Total Price (AED)\")}</span><span>{totals.finalTotal.toFixed(2)}</span></div>\n      </div>\n    </div>\n  )\n\n  const Notes = () => (\n    <div className=\"mt-6 grid grid-cols-2 gap-4 text-sm\">\n      <div>\n        <p className=\"font-semibold mb-1\">{t(\"Warranty & Notes\")}</p>\n        <p>{t(\"Warranty Period\")}: {warrantyPeriod}</p>\n        {adminNotes ? <p className=\"mt-2\">{t(\"Admin Notes\")}: {adminNotes}</p> : null}\n      </div>\n      <div className=\"text-right\">\n        <img src={qrData} alt=\"QR\" className=\"inline-block\" />\n      </div>\n    </div>\n  )\n\n  const Footer = () => (\n    <div className=\"mt-6 pt-4 border-t text-sm\">\n      <p>{disclaimerText}</p>\n      <p className=\"mt-1\">{t(\"Thank you for choosing KBI.\")}</p>\n    </div>\n  )\n\n  const Block = () => (\n    <div className=\"bg-white text-black p-6 rounded shadow-sm\">\n      <Header />\n      <div className=\"mt-6\">\n        <CustomerDevice />\n      </div>\n      <ItemsTable />\n      <Summary />\n      <Notes />\n      <Footer />\n      <div className=\"mt-6 grid grid-cols-2 gap-6\">\n        <div className=\"border-t pt-6\">\n          <p className=\"text-sm font-semibold\">{t(\"Customer Signature\")}</p>\n          <div className=\"h-16 border rounded\"></div>\n        </div>\n        <div className=\"border-t pt-6\">\n          <p className=\"text-sm font-semibold\">{t(\"Technician Signature\")}</p>\n          <div className=\"h-16 border rounded\"></div>\n        </div>\n      </div>\n    </div>\n  )\n\n  if (language === \"both\") {\n    return (\n      <div className=\"space-y-8\">\n        <Block />\n        <div dir=\"rtl\" className=\"bg-white text-black p-6 rounded shadow-sm\">\n          <Header />\n          <div className=\"mt-6\">\n            <CustomerDevice />\n          </div>\n          <ItemsTable />\n          <Summary />\n          <Notes />\n          <Footer />\n          <div className=\"mt-6 grid grid-cols-2 gap-6\">\n            <div className=\"border-t pt-6\">\n              <p className=\"text-sm font-semibold\">{t(\"Customer Signature\")}</p>\n              <div className=\"h-16 border rounded\"></div>\n            </div>\n            <div className=\"border-t pt-6\">\n              <p className=\"text-sm font-semibold\">{t(\"Technician Signature\")}</p>\n              <div className=\"h-16 border rounded\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  if (language === \"ar\") {\n    return (\n      <div dir=\"rtl\" className=\"bg-white text-black p-6 rounded shadow-sm\">\n        <Header />\n        <div className=\"mt-6\">\n          <CustomerDevice />\n        </div>\n        <ItemsTable />\n        <Summary />\n        <Notes />\n        <Footer />\n        <div className=\"mt-6 grid grid-cols-2 gap-6\">\n          <div className=\"border-t pt-6\">\n            <p className=\"text-sm font-semibold\">{t(\"Customer Signature\")}</p>\n            <div className=\"h-16 border rounded\"></div>\n          </div>\n          <div className=\"border-t pt-6\">\n            <p className=\"text-sm font-semibold\">{t(\"Technician Signature\")}</p>\n            <div className=\"h-16 border rounded\"></div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return <Block />\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1724, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/7mood/Desktop/test%207.5/main/app/admin/orders/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow\n} from \"@/components/ui/table\"\nimport { Input } from \"@/components/ui/input\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue\n} from \"@/components/ui/select\"\nimport { Button } from \"@/components/ui/button\"\nimport { Badge } from \"@/components/ui/badge\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n  DialogFooter\n} from \"@/components/ui/dialog\"\nimport {\n  Search,\n  Filter,\n  MoreHorizontal,\n  User,\n  Clock,\n  Calendar,\n  Trash2,\n  Edit,\n  Eye,\n  CheckCircle,\n  AlertTriangle,\n  FileDown,\n  Plus,\n  MessageCircle\n} from \"lucide-react\"\nimport { openWhatsApp, WhatsAppTemplates, formatPhoneForWhatsApp } from \"@/lib/smsService\"\nimport { logAction, AuditActions } from \"@/lib/auditService\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger\n} from \"@/components/ui/dropdown-menu\"\nimport { collection, onSnapshot, doc, updateDoc, deleteDoc, orderBy, query, Timestamp, arrayUnion, runTransaction } from \"firebase/firestore\"\nimport { db, auth, isMockMode } from \"@/firebase/firebaseConfig\"\nimport { onAuthStateChanged } from \"firebase/auth\"\nimport { formatDistanceToNow } from \"date-fns\"\nimport { cn } from \"@/lib/utils\"\nimport { useT } from \"@/components/language-provider\"\nimport { FinalInvoice } from \"@/components/ui/invoice\"\nimport { toast } from \"@/hooks/use-toast\"\n\ntype Order = {\n  id: string\n  orderId: string\n  customerName: string\n  customerPhone: string\n  deviceType: string\n  brand: string\n  model: string\n  issue: string\n  status: \"pending\" | \"in_progress\" | \"waiting_parts\" | \"completed\" | \"delivered\" | \"cancelled\"\n  technicianId?: string\n  technicianName?: string\n  createdAt: any\n  estimatedCompletion?: any\n  price?: number\n  notes?: string\n  statusHistory?: {\n    status: string\n    timestamp: any\n    note?: string\n  }[]\n}\n\ntype Technician = {\n  id: string\n  name: string\n  status: \"active\" | \"inactive\" | \"busy\"\n}\n\nconst statusColors = {\n  pending: \"bg-yellow-500/20 text-yellow-500 border-yellow-500/50\",\n  in_progress: \"bg-blue-500/20 text-blue-500 border-blue-500/50\",\n  waiting_parts: \"bg-orange-500/20 text-orange-500 border-orange-500/50\",\n  completed: \"bg-green-500/20 text-green-500 border-green-500/50\",\n  delivered: \"bg-purple-500/20 text-purple-500 border-purple-500/50\",\n  cancelled: \"bg-red-500/20 text-red-500 border-red-500/50\",\n}\n\nexport default function AdminOrdersPage() {\n  const t = useT()\n  const [authorized, setAuthorized] = useState(false)\n  const [orders, setOrders] = useState<Order[]>([])\n  const [technicians, setTechnicians] = useState<Technician[]>([])\n  const [search, setSearch] = useState(\"\")\n  const [statusFilter, setStatusFilter] = useState<string>(\"all\")\n  const [loading, setLoading] = useState(true)\n  const [selectedOrder, setSelectedOrder] = useState<Order | null>(null)\n  const [isDetailsOpen, setIsDetailsOpen] = useState(false)\n  const [etaMinutes, setEtaMinutes] = useState<string>(\"\")\n  const [invoiceDialogOpen, setInvoiceDialogOpen] = useState(false)\n  const [invoiceNumber, setInvoiceNumber] = useState<string>(\"\")\n  const [invoiceLang, setInvoiceLang] = useState<\"en\" | \"ar\" | \"both\">(\"en\")\n  const [invoiceDiscount, setInvoiceDiscount] = useState<string>(\"0\")\n  const [vatEnabled, setVatEnabled] = useState<boolean>(false)\n  const [vatRate, setVatRate] = useState<string>(\"0\")\n  const [warrantyPeriod, setWarrantyPeriod] = useState<string>(\"3 months\")\n  const [adminNotesInvoice, setAdminNotesInvoice] = useState<string>(\"\")\n  const [disclaimerText, setDisclaimerText] = useState<string>(\"Payment due upon completion of repair.\")\n  const [invoiceFinalized, setInvoiceFinalized] = useState<boolean>(false)\n  const [overrideReason, setOverrideReason] = useState<string>(\"\")\n\n  const [itemsPerPage] = useState(10)\n  const [currentPage, setCurrentPage] = useState(1)\n\n  useEffect(() => {\n    // Auth guard - Firebase mode\n    const unsub = onAuthStateChanged(auth, (user) => {\n      if (!user) {\n        if (typeof window !== \"undefined\") {\n          window.location.replace(\"/admin/login\")\n        }\n      } else {\n        setAuthorized(true)\n      }\n    })\n\n    if (isMockMode) {\n      setOrders([])\n      setTechnicians([])\n      setLoading(false)\n      return () => {\n        unsub()\n      }\n    }\n\n    const q = query(collection(db, \"orders\"), orderBy(\"createdAt\", \"desc\"))\n    const unsubOrders = onSnapshot(q, (snap) => {\n      const mappedOrders = snap.docs.map(d => {\n        const data = d.data()\n        return {\n          id: d.id,\n          orderId: data.orderId || d.id,\n          customerName: data.customerName || data.name || \"Unknown\",\n          customerPhone: data.customerPhone || data.phone || \"\",\n          deviceType: data.deviceType || \"Device\",\n          brand: data.brand || \"\",\n          model: data.model || \"\",\n          issue: data.issue || data.issueType || \"\",\n          status: normalizeStatus(data.status),\n          technicianId: data.technicianId,\n          technicianName: data.technicianName || data.technician,\n          createdAt: data.createdAt,\n          estimatedCompletion: data.estimatedCompletion,\n          price: data.price,\n          notes: data.notes,\n          statusHistory: data.statusHistory\n        } as Order\n      })\n      setOrders(mappedOrders)\n      setLoading(false)\n    })\n\n    const unsubTechs = onSnapshot(collection(db, \"technicians\"), (snap) => {\n      setTechnicians(snap.docs.map(d => ({ id: d.id, ...d.data() } as Technician)))\n    })\n\n    return () => {\n      unsub()\n      unsubOrders()\n      unsubTechs()\n    }\n  }, [])\n\n  // Helper to normalize status strings\n  const normalizeStatus = (status: string): Order[\"status\"] => {\n    if (!status) return \"pending\"\n    const s = status.toLowerCase().replace(/\\s+/g, \"_\")\n    if (s === \"order_created\" || s === \"pending\") return \"pending\"\n    if (s === \"in_progress\") return \"in_progress\"\n    if (s === \"waiting_parts\") return \"waiting_parts\"\n    if (s === \"completed\") return \"completed\"\n    if (s === \"delivered\") return \"delivered\"\n    if (s === \"cancelled\") return \"cancelled\"\n    return \"pending\"\n  }\n\n  const getInvoiceItemsForOrder = (o: Order) => {\n    const items: any[] = []\n    const base = Number(o.price || 0)\n    if (base > 0) {\n      items.push({ description: o.issue || \"Repair Service\", category: \"service\", quantity: 1, unitPrice: base, total: base })\n    }\n    const extras = (o as any).invoiceItems || []\n    return [...items, ...extras]\n  }\n\n  const getNextInvoiceNumber = async (): Promise<string> => {\n    const ref = doc(db, \"counters\", \"invoices\")\n    return await runTransaction(db, async (tx) => {\n      const snap = await tx.get(ref)\n      let current = snap.exists() ? Number((snap.data() as any).current || 0) : 0\n      current += 1\n      tx.set(ref, { current }, { merge: true })\n      return `INV-${String(current).padStart(6, \"0\")}`\n    })\n  }\n\n  const openInvoicePreview = async () => {\n    if (!selectedOrder) return\n    if (!invoiceNumber) {\n      const num = await getNextInvoiceNumber()\n      setInvoiceNumber(num)\n    }\n    setInvoiceDialogOpen(true)\n  }\n\n  const finalizeInvoice = async () => {\n    if (!selectedOrder) return\n    const discount = Number(invoiceDiscount || 0)\n    const vatR = Number(vatRate || 0)\n    const items = getInvoiceItemsForOrder(selectedOrder)\n    const subtotal = items.reduce((s, i: any) => s + Number(i.total || i.unitPrice * i.quantity), 0)\n    const afterDiscount = subtotal - discount\n    const vatAmount = vatEnabled ? afterDiscount * vatR : 0\n    const total = afterDiscount + vatAmount\n\n    const ref = doc(db, \"orders\", selectedOrder.id)\n    await updateDoc(ref, {\n      invoice: {\n        invoiceNumber,\n        invoiceDate: Timestamp.now(),\n        status: \"finalized\",\n        generatedBy: \"admin\",\n        discount,\n        vatRate: vatR,\n        vatEnabled,\n        warrantyPeriod,\n        adminNotes: adminNotesInvoice,\n        disclaimerText,\n        subtotal,\n        total,\n        language: invoiceLang,\n        history: arrayUnion({ action: \"finalized\", by: \"admin\", at: Timestamp.now() })\n      },\n      updatedAt: Timestamp.now()\n    })\n    setInvoiceFinalized(true)\n  }\n\n  const overrideInvoice = async () => {\n    if (!selectedOrder || !overrideReason) return\n    const ref = doc(db, \"orders\", selectedOrder.id)\n    await updateDoc(ref, {\n      invoice: {\n        ...(selectedOrder as any).invoice,\n        history: arrayUnion({ action: \"override\", by: \"admin\", at: Timestamp.now(), note: overrideReason })\n      },\n      updatedAt: Timestamp.now()\n    })\n    setOverrideReason(\"\")\n  }\n\n  if (!authorized) return null as any\n  const filteredOrders = orders.filter(order => {\n    const matchesSearch =\n      order.customerName.toLowerCase().includes(search.toLowerCase()) ||\n      order.orderId.toLowerCase().includes(search.toLowerCase()) ||\n      order.customerPhone.includes(search)\n\n    const matchesStatus = statusFilter === \"all\" || order.status === statusFilter\n\n    return matchesSearch && matchesStatus\n  })\n\n  const handleStatusUpdate = async (orderId: string, newStatus: string) => {\n    const order = orders.find(o => o.id === orderId)\n\n    const historyItem = {\n      status: newStatus,\n      timestamp: Timestamp.now(),\n      note: `${t(\"Status updated to\")} ${newStatus === \"in_progress\" ? t(\"In Progress\") :\n        newStatus === \"waiting_parts\" ? t(\"Waiting Parts\") :\n          newStatus === \"completed\" ? t(\"Completed\") :\n            newStatus === \"delivered\" ? t(\"Delivered\") :\n              newStatus === \"cancelled\" ? t(\"Cancelled\") :\n                t(\"Pending\")\n        }`\n    }\n\n    try {\n      await updateDoc(doc(db, \"orders\", orderId), {\n        status: newStatus,\n        statusHistory: arrayUnion(historyItem)\n      })\n      toast({ title: t(\"Status updated\"), description: `${t(\"Order\")} ${order?.orderId} ${t(\"now\")} ${statusLabel(newStatus as any)}` })\n    } catch (e: any) {\n      toast({ title: t(\"Failed to update status\"), description: e?.message || t(\"Please try again\") })\n      return\n    }\n\n    // Auto send WhatsApp notification\n    if (order?.customerPhone) {\n      let message = \"\"\n      switch (newStatus) {\n        case \"in_progress\":\n          message = WhatsAppTemplates.technicianAssigned(order.orderId, order.technicianName || \"Technician\", \"\")\n          break\n        case \"completed\":\n          message = WhatsAppTemplates.repairComplete(order.orderId, `kbi.ae/rate/${order.orderId}`)\n          break\n      }\n      if (message) {\n        openWhatsApp(order.customerPhone, message)\n        toast({ title: t(\"WhatsApp opened\"), description: t(\"Customer notified\") })\n      }\n    }\n\n    // Audit log\n    const user = auth.currentUser\n    if (user) {\n      logAction(AuditActions.ORDER_UPDATED, \"order\", user.uid, user.email || \"\", {\n        targetId: orderId,\n        targetType: \"order\",\n        details: { newStatus }\n      })\n    }\n  }\n\n  const handleAssignTech = async (orderId: string, techId: string) => {\n    const tech = technicians.find(t => t.id === techId)\n    if (!tech) return\n\n    const order = orders.find(o => o.id === orderId)\n\n    const historyItem = {\n      status: \"in_progress\",\n      timestamp: Timestamp.now(),\n      note: `${t(\"Assigned to technician\")} ${tech.name}`\n    }\n\n    try {\n      await updateDoc(doc(db, \"orders\", orderId), {\n        technicianId: techId,\n        technicianName: tech.name,\n        status: \"in_progress\",\n        statusHistory: arrayUnion(historyItem)\n      })\n      toast({ title: t(\"Technician assigned\"), description: `${tech.name} ‚Ä¢ ${t(\"Order\")} ${order?.orderId}` })\n    } catch (e: any) {\n      toast({ title: t(\"Failed to assign\"), description: e?.message || t(\"Please try again\") })\n      return\n    }\n\n    // Auto send WhatsApp notification for technician assignment\n    if (order?.customerPhone) {\n      const message = WhatsAppTemplates.technicianAssigned(order.orderId, tech.name, \"\")\n      openWhatsApp(order.customerPhone, message)\n      toast({ title: t(\"WhatsApp opened\"), description: t(\"Customer notified\") })\n    }\n\n    // Audit log\n    const user = auth.currentUser\n    if (user) {\n      logAction(AuditActions.ORDER_UPDATED, \"order\", user.uid, user.email || \"\", {\n        targetId: orderId,\n        targetType: \"order\",\n        details: { assignedTo: tech.name }\n      })\n    }\n  }\n\n  const handleDelete = async (orderId: string) => {\n    if (confirm(t(\"Are you sure you want to delete this order?\"))) {\n      try {\n        await deleteDoc(doc(db, \"orders\", orderId))\n        toast({ title: t(\"Order deleted\"), description: orderId })\n        const user = auth.currentUser\n        if (user) {\n          logAction(AuditActions.ORDER_DELETED, \"order\", user.uid, user.email || \"\", {\n            targetId: orderId,\n            targetType: \"order\"\n          })\n        }\n      } catch (e: any) {\n        toast({ title: t(\"Delete failed\"), description: e?.message || t(\"Please try again\") })\n      }\n    }\n  }\n\n  const handleWhatsAppNotify = (order: Order, messageType: string) => {\n    if (!order.customerPhone) {\n      toast({ title: t(\"No phone number available\"), description: t(\"Add customer phone to order\") })\n      return\n    }\n    let message = \"\"\n    switch (messageType) {\n      case \"confirmation\":\n        message = WhatsAppTemplates.orderConfirmation(order.orderId, order.customerName)\n        break\n      case \"assigned\":\n        message = WhatsAppTemplates.technicianAssigned(order.orderId, order.technicianName || \"Technician\", \"\")\n        break\n      case \"complete\":\n        message = WhatsAppTemplates.repairComplete(order.orderId, `kbi.ae/rate/${order.orderId}`)\n        break\n      default:\n        message = `Order #${order.orderId} update`\n    }\n    openWhatsApp(order.customerPhone, message)\n    toast({ title: t(\"WhatsApp opened\"), description: t(\"Customer notified\") })\n  }\n\n  const handleEtaUpdate = async () => {\n    if (!selectedOrder || !etaMinutes) return\n    const minutes = parseInt(etaMinutes, 10)\n    if (isNaN(minutes) || minutes < 0) return\n    const iso = new Date(Date.now() + minutes * 60000).toISOString()\n\n    await updateDoc(doc(db, \"orders\", selectedOrder.id), { estimatedCompletion: iso, updatedAt: Timestamp.now() })\n    setEtaMinutes(\"\")\n  }\n\n  const totalPages = Math.ceil(filteredOrders.length / itemsPerPage)\n  const paginatedOrders = filteredOrders.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage)\n\n  const statusLabel = (s: Order[\"status\"]) => (\n    s === \"in_progress\" ? t(\"In Progress\") :\n      s === \"waiting_parts\" ? t(\"Waiting Parts\") :\n        s === \"completed\" ? t(\"Completed\") :\n          s === \"delivered\" ? t(\"Delivered\") :\n            s === \"cancelled\" ? t(\"Cancelled\") :\n              t(\"Pending\")\n  )\n\n  const exportCSV = () => {\n    const headers = [t(\"Order ID\"), t(\"Customer\"), t(\"Phone\"), t(\"Device\"), t(\"Issue\"), t(\"Status\"), t(\"Technician\"), t(\"Created\"), t(\"Price\")]\n    const rows = filteredOrders.map(o => [\n      o.orderId,\n      o.customerName,\n      o.customerPhone,\n      `\"${o.brand} ${o.model}\"`, // Quote to handle commas\n      `\"${o.issue}\"`,\n      o.status,\n      o.technicianName || t(\"Unassigned\"),\n      o.createdAt?.seconds ? new Date(o.createdAt.seconds * 1000).toISOString() : \"\",\n      o.price || \"\"\n    ])\n\n    const csvContent = \"data:text/csv;charset=utf-8,\"\n      + headers.join(\",\") + \"\\n\"\n      + rows.map(e => e.join(\",\")).join(\"\\n\")\n\n    const encodedUri = encodeURI(csvContent)\n    const link = document.createElement(\"a\")\n    link.setAttribute(\"href\", encodedUri)\n    link.setAttribute(\"download\", `orders_export_${new Date().toISOString().slice(0, 10)}.csv`)\n    document.body.appendChild(link)\n    link.click()\n    document.body.removeChild(link)\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h1 className=\"text-3xl font-bold text-white\">{t(\"Orders Management\")}</h1>\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={exportCSV}>\n            <FileDown className=\"mr-2 h-4 w-4\" /> {t(\"Export CSV\")}\n          </Button>\n          <Button>\n            <Plus className=\"mr-2 h-4 w-4\" /> {t(\"New Order\")}\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-4\">\n        <div className=\"relative flex-1 max-w-sm\">\n          <Search className=\"absolute left-2.5 top-2.5 h-4 w-4 text-white/50\" />\n          <Input\n            placeholder={t(\"Search orders...\")}\n            className=\"pl-9 bg-white/5 border-white/10 text-white\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n        </div>\n        <Select value={statusFilter} onValueChange={setStatusFilter}>\n          <SelectTrigger className=\"w-[180px] bg-white/5 border-white/10 text-white hover:bg-white/10 focus-visible:border-cyan-500 focus-visible:ring-cyan-500/30 outline-none rounded-lg\">\n            <SelectValue placeholder={t(\"Filter by status\")} />\n          </SelectTrigger>\n          <SelectContent className=\"bg-zinc-900 border-white/10 text-white\">\n            <SelectItem value=\"all\">{t(\"All\")}</SelectItem>\n            <SelectItem value=\"pending\">{t(\"Pending\")}</SelectItem>\n            <SelectItem value=\"in_progress\">{t(\"In Progress\")}</SelectItem>\n            <SelectItem value=\"waiting_parts\">{t(\"Waiting Parts\")}</SelectItem>\n            <SelectItem value=\"completed\">{t(\"Completed\")}</SelectItem>\n            <SelectItem value=\"delivered\">{t(\"Delivered\")}</SelectItem>\n            <SelectItem value=\"cancelled\">{t(\"Cancelled\")}</SelectItem>\n          </SelectContent>\n        </Select>\n      </div>\n\n      <div className=\"rounded-md border border-white/10 bg-white/5 overflow-hidden\">\n        <Table>\n          <TableHeader className=\"bg-white/5\">\n            <TableRow className=\"border-white/10 hover:bg-white/5\">\n              <TableHead className=\"text-white\">{t(\"Order ID\")}</TableHead>\n              <TableHead className=\"text-white\">{t(\"Customer\")}</TableHead>\n              <TableHead className=\"text-white\">{t(\"Device\")}</TableHead>\n              <TableHead className=\"text-white\">{t(\"Issue\")}</TableHead>\n              <TableHead className=\"text-white\">{t(\"Status\")}</TableHead>\n              <TableHead className=\"text-white\">{t(\"Technician\")}</TableHead>\n              <TableHead className=\"text-white\">{t(\"Created\")}</TableHead>\n              <TableHead className=\"text-white text-right\">{t(\"Actions\")}</TableHead>\n            </TableRow>\n          </TableHeader>\n          <TableBody>\n            {filteredOrders.length === 0 ? (\n              <TableRow>\n                <TableCell colSpan={8} className=\"text-center py-8 text-white/50\">\n                  {t(\"No orders found\")}\n                </TableCell>\n              </TableRow>\n            ) : (\n              paginatedOrders.map((order) => (\n                <TableRow key={order.id} className=\"border-white/10 hover:bg-white/5\">\n                  <TableCell className=\"font-medium text-white\">{order.orderId}</TableCell>\n                  <TableCell>\n                    <div className=\"flex flex-col\">\n                      <span className=\"text-white\">{order.customerName}</span>\n                      <span className=\"text-xs text-white/50\">{order.customerPhone}</span>\n                    </div>\n                  </TableCell>\n                  <TableCell className=\"text-white\">\n                    {order.brand} {order.model}\n                  </TableCell>\n                  <TableCell className=\"text-white\">{order.issue}</TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\" className={cn(\"capitalize\", statusColors[order.status as keyof typeof statusColors])}>\n                      {statusLabel(order.status)}\n                    </Badge>\n                  </TableCell>\n                  <TableCell className=\"text-white\">\n                    {order.technicianName ? (\n                      <div className=\"flex items-center gap-2\">\n                        <User className=\"h-3 w-3 text-cyan-400\" />\n                        <span>{order.technicianName}</span>\n                      </div>\n                    ) : (\n                      <span className=\"text-white/30 italic\">{t(\"Unassigned\")}</span>\n                    )}\n                  </TableCell>\n                  <TableCell className=\"text-white/60\">\n                    {order.createdAt?.seconds ? formatDistanceToNow(new Date(order.createdAt.seconds * 1000), { addSuffix: true }) : t(\"Just now\")}\n                  </TableCell>\n                  <TableCell className=\"text-right\">\n                    <DropdownMenu>\n                      <DropdownMenuTrigger asChild>\n                        <Button variant=\"ghost\" className=\"h-8 w-8 p-0 text-white/70 hover:text-white\">\n                          <span className=\"sr-only\">{t(\"Open menu\")}</span>\n                          <MoreHorizontal className=\"h-4 w-4\" />\n                        </Button>\n                      </DropdownMenuTrigger>\n                      <DropdownMenuContent align=\"end\" className=\"bg-zinc-900 border-zinc-800 text-white\">\n                        <DropdownMenuLabel>{t(\"Actions\")}</DropdownMenuLabel>\n                        <DropdownMenuItem onClick={() => { setSelectedOrder(order); setIsDetailsOpen(true) }}>\n                          <Eye className=\"mr-2 h-4 w-4\" /> {t(\"View Details\")}\n                        </DropdownMenuItem>\n                        <DropdownMenuSeparator className=\"bg-zinc-800\" />\n                        <DropdownMenuLabel>{t(\"Update Status\")}</DropdownMenuLabel>\n                        <DropdownMenuItem onClick={() => handleStatusUpdate(order.id, \"in_progress\")}>\n                          <Clock className=\"mr-2 h-4 w-4\" /> {t(\"In Progress\")}\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleStatusUpdate(order.id, \"completed\")}>\n                          <CheckCircle className=\"mr-2 h-4 w-4\" /> {t(\"Completed\")}\n                        </DropdownMenuItem>\n                        <DropdownMenuSeparator className=\"bg-zinc-800\" />\n                        <DropdownMenuLabel>{t(\"Assign Technician\")}</DropdownMenuLabel>\n                        {technicians.map(tech => (\n                          <DropdownMenuItem key={tech.id} onClick={() => handleAssignTech(order.id, tech.id)}>\n                            <User className=\"mr-2 h-4 w-4\" /> {tech.name}\n                          </DropdownMenuItem>\n                        ))}\n                        <DropdownMenuSeparator className=\"bg-zinc-800\" />\n                        <DropdownMenuLabel>{t(\"Notify Customer\")}</DropdownMenuLabel>\n                        <DropdownMenuItem onClick={() => handleWhatsAppNotify(order, \"confirmation\")}>\n                          <MessageCircle className=\"mr-2 h-4 w-4\" /> {t(\"Order Received\")}\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleWhatsAppNotify(order, \"assigned\")}>\n                          <MessageCircle className=\"mr-2 h-4 w-4\" /> {t(\"Technician Assigned\")}\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleWhatsAppNotify(order, \"complete\")}>\n                          <MessageCircle className=\"mr-2 h-4 w-4\" /> {t(\"Repair Complete\")}\n                        </DropdownMenuItem>\n                        <DropdownMenuSeparator className=\"bg-zinc-800\" />\n                        <DropdownMenuItem className=\"text-red-500 hover:text-red-400\" onClick={() => handleDelete(order.id)}>\n                          <Trash2 className=\"mr-2 h-4 w-4\" /> {t(\"Delete Order\")}\n                        </DropdownMenuItem>\n                      </DropdownMenuContent>\n                    </DropdownMenu>\n                  </TableCell>\n                </TableRow>\n              ))\n            )}\n          </TableBody>\n        </Table>\n      </div>\n\n      {/* Pagination */}\n      {totalPages > 1 && (\n        <div className=\"flex items-center justify-end gap-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => setCurrentPage(p => Math.max(1, p - 1))}\n            disabled={currentPage === 1}\n            className=\"bg-white/5 border-white/10 hover:bg-white/10 text-white\"\n          >\n            {t(\"Previous\")}\n          </Button>\n          <span className=\"text-sm text-white/50\">\n            {t(\"Page\")} {currentPage} {t(\"of\")} {totalPages}\n          </span>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            onClick={() => setCurrentPage(p => Math.min(totalPages, p + 1))}\n            disabled={currentPage === totalPages}\n            className=\"bg-white/5 border-white/10 hover:bg-white/10 text-white\"\n          >\n            {t(\"Next\")}\n          </Button>\n        </div>\n      )}\n\n      {/* Order Details Modal */}\n      <Dialog open={isDetailsOpen} onOpenChange={setIsDetailsOpen}>\n        <DialogContent className=\"bg-zinc-950 border-zinc-800 text-white sm:max-w-[600px]\">\n          <DialogHeader>\n            <DialogTitle>{t(\"Order Details\")}: {selectedOrder?.orderId}</DialogTitle>\n          </DialogHeader>\n          {selectedOrder && (\n            <div className=\"grid gap-4 py-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Customer\")}</h4>\n                  <p className=\"font-semibold\">{selectedOrder.customerName}</p>\n                  <p className=\"text-sm text-white/70\">{selectedOrder.customerPhone}</p>\n                </div>\n                <div>\n                  <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Device\")}</h4>\n                  <p className=\"font-semibold\">{selectedOrder.brand} {selectedOrder.model}</p>\n                  <p className=\"text-sm text-white/70\">{selectedOrder.deviceType}</p>\n                </div>\n                <div>\n                  <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Issue\")}</h4>\n                  <p className=\"font-semibold\">{selectedOrder.issue}</p>\n                </div>\n                <div>\n                  <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"Status\")}</h4>\n                  <Badge variant=\"outline\" className={cn(\"capitalize\", statusColors[selectedOrder.status as keyof typeof statusColors])}>\n                    {selectedOrder.status.replace(\"_\", \" \")}\n                  </Badge>\n                </div>\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <h4 className=\"text-sm font-medium text-white/50 mb-1\">{t(\"ETA (minutes)\")}</h4>\n                  <div className=\"flex gap-2\">\n                    <Input\n                      type=\"number\"\n                      value={etaMinutes}\n                      onChange={(e) => setEtaMinutes(e.target.value)}\n                      className=\"bg-white/5 border-white/10 text-white\"\n                    />\n                    <Button onClick={handleEtaUpdate} className=\"bg-cyan-500 hover:bg-cyan-400 text-black\">\n                      {t(\"Save\")}\n                    </Button>\n                  </div>\n                </div>\n                <div>\n                  {selectedOrder.estimatedCompletion && (\n                    <div className=\"p-3 rounded border flex items-center gap-3 transition-colors border-white/10 bg-white/5\">\n                      <Clock className=\"w-5 h-5 text-cyan-500\" />\n                      <div>\n                        <p className=\"text-xs text-white/60\">{t(\"Remaining Time\")}</p>\n                        <p className=\"text-sm font-mono text-white\">\n                          {new Date(selectedOrder.estimatedCompletion).toLocaleString()}\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Timeline */}\n              <div className=\"mt-6 pt-6 border-t border-white/10\">\n                <h4 className=\"text-sm font-medium text-white/50 mb-4\">{t(\"Order Timeline\")}</h4>\n                <div className=\"space-y-0 relative\">\n                  {/* Vertical Line */}\n                  <div className=\"absolute left-2.5 top-2 bottom-4 w-0.5 bg-zinc-800\" />\n\n                  {(() => {\n                    const steps = [\n                      { id: \"pending\", label: t(\"Order Placed\"), description: t(\"Order has been created\") },\n                      { id: \"in_progress\", label: t(\"In Repair\"), description: t(\"Technician is working on the device\") },\n                      { id: \"completed\", label: t(\"Repair Completed\"), description: t(\"Device is fixed and ready\") },\n                      { id: \"delivered\", label: t(\"Delivered\"), description: t(\"Device returned to customer\") }\n                    ]\n\n                    // Determine current step index\n                    let currentStepIndex = 0\n                    if (selectedOrder.status === \"delivered\") currentStepIndex = 3\n                    else if (selectedOrder.status === \"completed\") currentStepIndex = 2\n                    else if (selectedOrder.status === \"in_progress\" || selectedOrder.status === \"waiting_parts\") currentStepIndex = 1\n                    else currentStepIndex = 0\n\n                    if (selectedOrder.status === \"cancelled\") {\n                      return (\n                        <div className=\"relative flex gap-4 pb-6\">\n                          <div className=\"relative z-10 flex h-6 w-6 items-center justify-center rounded-full bg-red-500 ring-4 ring-zinc-950\">\n                            <AlertTriangle className=\"h-3 w-3 text-white\" />\n                          </div>\n                          <div className=\"flex flex-col\">\n                            <p className=\"text-sm font-medium text-red-500\">{t(\"Order Cancelled\")}</p>\n                            <p className=\"text-xs text-white/50\">{t(\"This order has been cancelled.\")}</p>\n                          </div>\n                        </div>\n                      )\n                    }\n\n                    return steps.map((step, index) => {\n                      const isCompleted = index < currentStepIndex\n                      const isCurrent = index === currentStepIndex\n                      const isFuture = index > currentStepIndex\n\n                      // Find relevant history item if completed or current\n                      // This is a heuristic matching\n                      const historyItem = selectedOrder.statusHistory?.find(h => {\n                        if (step.id === \"pending\") return h.status === \"pending\"\n                        if (step.id === \"in_progress\") return h.status === \"in_progress\" || h.status === \"waiting_parts\"\n                        if (step.id === \"completed\") return h.status === \"completed\"\n                        if (step.id === \"delivered\") return h.status === \"delivered\"\n                        return false\n                      })\n\n                      return (\n                        <div key={step.id} className={cn(\"relative flex gap-4 pb-8 last:pb-0\", isFuture && \"opacity-40\")}>\n                          <div className={cn(\n                            \"relative z-10 flex h-6 w-6 items-center justify-center rounded-full ring-4 ring-zinc-950 transition-colors\",\n                            isCompleted ? \"bg-cyan-500 text-black\" :\n                              isCurrent ? \"bg-cyan-500 ring-cyan-500/20 animate-pulse text-black\" :\n                                \"bg-zinc-800 text-white/30\"\n                          )}>\n                            {isCompleted ? <CheckCircle className=\"h-3 w-3\" /> :\n                              isCurrent ? <Clock className=\"h-3 w-3\" /> :\n                                <div className=\"h-2 w-2 rounded-full bg-current\" />}\n                          </div>\n                          <div className=\"flex flex-col -mt-1\">\n                            <p className={cn(\"text-sm font-medium\", isCurrent ? \"text-cyan-400\" : \"text-white\")}>\n                              {step.label}\n                            </p>\n                            <p className=\"text-xs text-white/50\">{step.description}</p>\n                            {(isCompleted || isCurrent) && historyItem?.timestamp && (\n                              <p className=\"text-[10px] text-white/30 mt-1\">\n                                {new Date(historyItem.timestamp.seconds * 1000).toLocaleString()}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      )\n                    })\n                  })()}\n                </div>\n\n                {/* Detailed History Log (Collapsible or Separate) */}\n                {selectedOrder.statusHistory && selectedOrder.statusHistory.length > 0 && (\n                  <div className=\"mt-6 pt-4 border-t border-white/5\">\n                    <h5 className=\"text-xs font-medium text-white/40 mb-3 uppercase tracking-wider\">{t(\"Detailed History\")}</h5>\n                    <div className=\"space-y-3 pl-2 border-l border-white/5\">\n                      {selectedOrder.statusHistory.slice().reverse().map((h, i) => (\n                        <div key={i} className=\"pl-4 relative\">\n                          <div className=\"absolute left-[-5px] top-1.5 h-2 w-2 rounded-full bg-white/10\" />\n                          <p className=\"text-xs text-white/70\">{h.note || h.status}</p>\n                          <p className=\"text-[10px] text-white/30\">\n                            {h.timestamp?.seconds ? new Date(h.timestamp.seconds * 1000).toLocaleString() : t(\"Just now\")}\n                          </p>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n                <div className=\"mt-6 pt-6 border-t border-white/10\">\n                  <h4 className=\"text-sm font-medium text-white/50 mb-4\">{t(\"Invoice\")}</h4>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <div className=\"flex gap-2\">\n                        <Button onClick={openInvoicePreview} className=\"bg-cyan-500 text-black\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"Generate Final Invoice\")}</Button>\n                        <Button variant=\"outline\" onClick={() => setInvoiceDialogOpen(true)}>{t(\"Preview Invoice\")}</Button>\n                      </div>\n                      <div className=\"flex gap-2\">\n                        <Button variant=\"outline\" onClick={() => window.print()}>{t(\"Print Invoice\")}</Button>\n                        <Button variant=\"outline\" onClick={() => window.print()}>{t(\"Download as PDF\")}</Button>\n                      </div>\n                      <div className=\"flex gap-2\">\n                        <Button variant=\"outline\" onClick={() => {\n                          const price = (selectedOrder as any)?.invoice?.total || (selectedOrder as any)?.totalCost || selectedOrder.price || 0\n                          const msgEn = `Your repair is completed. Final amount: AED ${price}. Please find your invoice attached. Thank you for choosing KBI.`\n                          const msgAr = `ÿ™ŸÖ ÿßŸÑÿßŸÜÿ™Ÿáÿßÿ° ŸÖŸÜ ÿµŸäÿßŸÜÿ© ÿ¨Ÿáÿßÿ≤ŸÉ. ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ${price} ÿØÿ±ŸáŸÖ. ÿ™ÿ¨ÿØ ÿßŸÑŸÅÿßÿ™Ÿàÿ±ÿ© ŸÖÿ±ŸÅŸÇÿ©. ÿ¥ŸÉÿ±Ÿãÿß ŸÑÿßÿÆÿ™Ÿäÿßÿ±ŸÉ KBI.`\n                          const text = `${msgEn}\\n\\n${msgAr}`\n                          if (selectedOrder.customerPhone) {\n                            openWhatsApp(selectedOrder.customerPhone, text)\n                            toast({ title: t(\"WhatsApp opened\"), description: t(\"Invoice sent to customer\") })\n                          } else {\n                            toast({ title: t(\"No phone number available\"), description: t(\"Add customer phone to order\") })\n                          }\n                        }}>{t(\"Resend to Customer\")}</Button>\n                      </div>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <div className=\"grid grid-cols-2 gap-2\">\n                        <Input placeholder={t(\"Discount\")} value={invoiceDiscount} onChange={(e) => setInvoiceDiscount(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\n                        <Input placeholder={t(\"Warranty Period\")} value={warrantyPeriod} onChange={(e) => setWarrantyPeriod(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\n                        <div className=\"flex items-center gap-2\">\n                          <input type=\"checkbox\" checked={vatEnabled} onChange={(e) => setVatEnabled(e.target.checked)} disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\n                          <span className=\"text-sm text-white\">{t(\"VAT Enabled\")}</span>\n                        </div>\n                        <Input placeholder={t(\"VAT Rate\")} value={vatRate} onChange={(e) => setVatRate(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\n                      </div>\n                      <Input placeholder={t(\"Disclaimer\")} value={disclaimerText} onChange={(e) => setDisclaimerText(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\n                      <Input placeholder={t(\"Admin Notes\")} value={adminNotesInvoice} onChange={(e) => setAdminNotesInvoice(e.target.value)} className=\"bg-white/5 border-white/10 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"} />\n                      <div className=\"grid grid-cols-3 gap-2\">\n                        <Button variant={invoiceLang === \"en\" ? \"default\" : \"outline\"} onClick={() => setInvoiceLang(\"en\")} disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"English\")}</Button>\n                        <Button variant={invoiceLang === \"ar\" ? \"default\" : \"outline\"} onClick={() => setInvoiceLang(\"ar\")} disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"Arabic\")}</Button>\n                        <Button variant={invoiceLang === \"both\" ? \"default\" : \"outline\"} onClick={() => setInvoiceLang(\"both\")} disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"EN + AR\")}</Button>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"mt-4 flex items-center gap-2\">\n                    <Badge variant=\"outline\" className=\"text-white/70\">{t(\"Invoice Status\")}: {((selectedOrder as any).invoice?.status || (invoiceFinalized ? \"finalized\" : \"draft\"))}</Badge>\n                    <Button onClick={finalizeInvoice} className=\"bg-green-600 text-white\" disabled={invoiceFinalized || (selectedOrder as any).invoice?.status === \"finalized\"}>{t(\"Finalize Invoice\")}</Button>\n                    <Input placeholder={t(\"Override reason\")} value={overrideReason} onChange={(e) => setOverrideReason(e.target.value)} className=\"bg-white/5 border-white/10 text-white max-w-xs\" />\n                    <Button variant=\"outline\" onClick={overrideInvoice}>{t(\"Override Edit\")}</Button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n      <Dialog open={invoiceDialogOpen} onOpenChange={setInvoiceDialogOpen}>\n        <DialogContent className=\"bg-white text-black sm:max-w-[800px]\">\n          <DialogHeader>\n            <DialogTitle>{t(\"Invoice Preview\")}</DialogTitle>\n          </DialogHeader>\n          {selectedOrder && (\n            <div className=\"max-h-[70vh] overflow-auto\">\n              <FinalInvoice\n                order={selectedOrder}\n                items={getInvoiceItemsForOrder(selectedOrder)}\n                invoiceNumber={invoiceNumber}\n                invoiceDate={new Date().toISOString()}\n                language={invoiceLang}\n                discount={Number(invoiceDiscount || 0)}\n                vatEnabled={vatEnabled}\n                vatRate={Number(vatRate || 0)}\n                warrantyPeriod={warrantyPeriod}\n                adminNotes={adminNotesInvoice}\n                disclaimerText={disclaimerText}\n              />\n            </div>\n          )}\n          <DialogFooter>\n            <Button variant=\"outline\" onClick={() => window.print()}>{t(\"Print Invoice\")}</Button>\n            <Button onClick={finalizeInvoice}>{t(\"Finalize Invoice\")}</Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}